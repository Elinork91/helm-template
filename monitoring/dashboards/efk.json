{"annotations": {"list": [{"builtIn": 1,"datasource": "-- Grafana --","enable": true,"hide": true,"iconColor": "rgba(0, 211, 255, 1)","name": "Annotations & Alerts","type": "dashboard"}]},"description": "Browse, analyze logs in Elasticsearch","editable": true,"gnetId": 1004,"graphTooltip": 0,"id": 4,"iteration": 1551357848582,"links": [],"panels": [{"cacheTimeout": null,"colorBackground": true,"colorPostfix": false,"colorValue": false,"colors": ["#56A64B","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource": "Elastic","decimals": null,"editable": true,"error": false,"format": "short","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 10,"w": 6,"x": 0,"y": 0},"id": 1,"interval": null,"isNew": true,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "80%","prefix": "Errors:","prefixFontSize": "100%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"sparkline": {"fillColor": "rgba(0, 3, 8, 0.18)","full": true,"lineColor": "rgb(0, 0, 0)","show": true},"tableColumn": "@timestamp","targets": [{"bucketAggs": [{"fake": true,"field": "@timestamp","id": "3","settings": {"interval": "auto","min_doc_count": 0,"trimEdges": 0},"type": "date_histogram"}],"dsType": "elasticsearch","metrics": [{"field": "@number","id": "1","inlineScript": "severity:\"INFO\"","meta": {},"settings": {},"type": "count"}],"query": "severity:\"ERROR\"","refId": "A","timeField": "@timestamp"}],"thresholds": "1,10","timeFrom": "24h","title": "","type": "singlestat","valueFontSize": "100%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "total"},{"cacheTimeout": null,"columns": [{"text": "Total","value": "total"}],"datasource": "Elastic","description": "","fontSize": "100%","gridPos": {"h": 10,"w": 7,"x": 6,"y": 0},"hideTimeOverride": false,"id": 12,"interval": "1m","links": [],"pageSize": null,"repeatDirection": "h","scroll": true,"showHeader": true,"sort": {"col": 1,"desc": true},"styles": [{"alias": "Time","dateFormat": "YYYY-MM-DD HH:mm:ss","pattern": "Time","type": "hidden"},{"alias": "Severity:Hostname","colorMode": null,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat": "YYYY-MM-DD HH:mm:ss","decimals": 2,"link": false,"mappingType": 1,"pattern": "Metric","thresholds": [],"type": "string","unit": "short","valueMaps": []},{"alias": "","colorMode": null,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals": null,"pattern": "/.*/","thresholds": [],"type": "number","unit": "short"}],"targets": [{"bucketAggs": [{"fake": true,"field": "kubernetes.labels.app.keyword","id": "4","settings": {"min_doc_count": 1,"order": "desc","orderBy": "_term","size": "10"},"type": "terms"},{"fake": true,"field": "@timestamp","id": "3","settings": {"interval": "auto","min_doc_count": 0,"trimEdges": 0},"type": "date_histogram"}],"dsType": "elasticsearch","hide": false,"metrics": [{"field": "@value","id": "1","meta": {},"settings": {},"type": "count"}],"query": "severity:\"ERROR\"","refId": "C","timeField": "@timestamp"}],"timeFrom": "24h","timeShift": null,"title": "Error occurances","transform": "timeseries_aggregations","type": "table"},{"aliasColors": {},"breakPoint": "50%","cacheTimeout": null,"combine": {"label": "Others","threshold": ""},"datasource": "Elastic","description": "","editable": true,"error": false,"fontSize": "120%","format": "short","gridPos": {"h": 10,"w": 11,"x": 13,"y": 0},"id": 3,"interval": null,"isNew": true,"legend": {"header": "","percentage": true,"show": true,"sideWidth": null,"values": true},"legendType": "Right side","links": [],"maxDataPoints": 3,"nullPointMode": "connected","pieType": "pie","repeat": null,"repeatDirection": "h","strokeWidth": "5","targets": [{"bucketAggs": [{"fake": true,"field": "severity.keyword","id": "4","settings": {"min_doc_count": 1,"order": "desc","orderBy": "_term","size": "10"},"type": "terms"},{"fake": true,"field": "@timestamp","id": "3","settings": {"interval": "auto","min_doc_count": 0,"trimEdges": 0},"type": "date_histogram"}],"dsType": "elasticsearch","hide": true,"metrics": [{"field": "select field","id": "1","type": "count"}],"query": "*:* AND NOT severity:\"DEBUG\"","refId": "A","timeField": "@timestamp"},{"bucketAggs": [{"fake": true,"field": "severity.keyword","id": "4","settings": {"min_doc_count": 1,"order": "desc","orderBy": "_term","size": "10"},"type": "terms"},{"fake": true,"field": "@timestamp","id": "3","settings": {"interval": "$inter","min_doc_count": 0,"trimEdges": 0},"type": "date_histogram"}],"dsType": "elasticsearch","metrics": [{"field": "select field","id": "1","type": "count"}],"query": "","refId": "B","timeField": "@timestamp"}],"title": "Severity","type": "grafana-piechart-panel","valueName": "total"},{"cacheTimeout": null,"colorBackground": true,"colorPostfix": false,"colorValue": false,"colors": ["#56A64B","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource": "Elastic","decimals": null,"editable": true,"error": false,"format": "short","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 10,"w": 6,"x": 0,"y": 10},"id": 11,"interval": null,"isNew": true,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "80%","prefix": "Warnings:","prefixFontSize": "100%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"sparkline": {"fillColor": "rgba(0, 3, 8, 0.18)","full": true,"lineColor": "rgb(0, 0, 0)","show": true},"tableColumn": "@timestamp","targets": [{"bucketAggs": [{"fake": true,"field": "@timestamp","id": "3","settings": {"interval": "auto","min_doc_count": 0,"trimEdges": 0},"type": "date_histogram"}],"dsType": "elasticsearch","metrics": [{"field": "@number","id": "1","inlineScript": "severity:\"INFO\"","meta": {},"settings": {},"type": "count"}],"query": "severity:\"WARN\"","refId": "A","timeField": "@timestamp"}],"thresholds": "1,100","timeFrom": "24h","title": "","type": "singlestat","valueFontSize": "100%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "total"},{"cacheTimeout": null,"columns": [{"text": "Total","value": "total"}],"datasource": "Elastic","description": "","fontSize": "100%","gridPos": {"h": 10,"w": 7,"x": 6,"y": 10},"hideTimeOverride": false,"id": 10,"interval": "1m","links": [],"pageSize": null,"repeatDirection": "h","scroll": true,"showHeader": true,"sort": {"col": 1,"desc": true},"styles": [{"alias": "Time","dateFormat": "YYYY-MM-DD HH:mm:ss","pattern": "Time","type": "hidden"},{"alias": "Severity:Hostname","colorMode": null,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat": "YYYY-MM-DD HH:mm:ss","decimals": 2,"link": false,"mappingType": 1,"pattern": "Metric","thresholds": [],"type": "string","unit": "short","valueMaps": []},{"alias": "","colorMode": null,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals": null,"pattern": "/.*/","thresholds": [],"type": "number","unit": "short"}],"targets": [{"bucketAggs": [{"fake": true,"field": "kubernetes.labels.app.keyword","id": "4","settings": {"min_doc_count": 1,"order": "desc","orderBy": "_term","size": "10"},"type": "terms"},{"fake": true,"field": "@timestamp","id": "3","settings": {"interval": "auto","min_doc_count": 0,"trimEdges": 0},"type": "date_histogram"}],"dsType": "elasticsearch","hide": false,"metrics": [{"field": "@value","id": "1","meta": {},"settings": {},"type": "count"}],"query": "severity:\"WARN\"","refId": "C","timeField": "@timestamp"}],"timeFrom": "24h","timeShift": null,"title": "Warning occurances","transform": "timeseries_aggregations","type": "table"},{"aliasColors": {},"bars": false,"cacheTimeout": null,"dashLength": 10,"dashes": false,"datasource": "Elastic","description": "","fill": 1,"gridPos": {"h": 10,"w": 11,"x": 13,"y": 10},"hideTimeOverride": true,"id": 9,"interval": "","legend": {"alignAsTable": true,"avg": false,"current": false,"hideEmpty": true,"hideZero": true,"max": false,"min": false,"rightSide": true,"show": true,"total": true,"values": true},"lines": true,"linewidth": 2,"links": [],"nullPointMode": "connected","paceLength": 10,"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","repeatDirection": "h","seriesOverrides": [],"stack": false,"steppedLine": false,"targets": [{"bucketAggs": [{"fake": true,"field": "severity.keyword","id": "4","settings": {"min_doc_count": 1,"order": "desc","orderBy": "_term","size": "10"},"type": "terms"},{"fake": true,"field": "@timestamp","id": "3","settings": {"interval": "auto","min_doc_count": 0,"trimEdges": 0},"type": "date_histogram"}],"dsType": "elasticsearch","hide": true,"metrics": [{"field": "select field","id": "1","type": "count"}],"query": "*:* AND NOT severity:\"DEBUG\"","refId": "A","timeField": "@timestamp"},{"bucketAggs": [{"fake": true,"field": "severity.keyword","id": "4","settings": {"min_doc_count": 1,"order": "desc","orderBy": "_term","size": "10"},"type": "terms"},{"fake": true,"field": "@timestamp","id": "3","settings": {"interval": "$inter","min_doc_count": 0,"trimEdges": 0},"type": "date_histogram"}],"dsType": "elasticsearch","metrics": [{"field": "select field","id": "1","type": "count"}],"query": "","refId": "B","timeField": "@timestamp"}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Logs by severity in time","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}}],"refresh": "1m","schemaVersion": 18,"style": "dark","tags": [],"templating": {"list": [{"auto": true,"auto_count": 100,"auto_min": "10s","current": {"text": "1m","value": "1m"},"datasource": null,"hide": 0,"includeAll": false,"label": "interval","multi": false,"name": "inter","options": [{"selected": false,"text": "auto","value": "$__auto_interval_inter"},{"selected": false,"text": "1s","value": "1s"},{"selected": false,"text": "5s","value": "5s"},{"selected": false,"text": "10s","value": "10s"},{"selected": false,"text": "30s","value": "30s"},{"selected": true,"text": "1m","value": "1m"},{"selected": false,"text": "10m","value": "10m"},{"selected": false,"text": "30m","value": "30m"},{"selected": false,"text": "1h","value": "1h"},{"selected": false,"text": "6h","value": "6h"},{"selected": false,"text": "12h","value": "12h"},{"selected": false,"text": "1d","value": "1d"},{"selected": false,"text": "7d","value": "7d"},{"selected": false,"text": "14d","value": "14d"},{"selected": false,"text": "30d","value": "30d"}],"query": "1s,5s,10s,30s,1m,10m,30m,1h,6h,12h,1d,7d,14d,30d","refresh": 2,"skipUrlSync": false,"type": "interval"}]},"time": {"from": "now-1h","to": "now"},"timepicker": {"refresh_intervals": ["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options": ["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone": "browser","title": "Log analysis","uid": "KnMbYsrmz","version": 1}
